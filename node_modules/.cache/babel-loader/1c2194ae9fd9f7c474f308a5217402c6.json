{"ast":null,"code":"import ClickOutside from 'vue-click-outside';\nimport CloseIcon from '../assets/images/CloseIcon.vue';\nimport StatusView from './StatusView.vue';\nimport ChevronDown from '../assets/images/ChevronDown.vue';\nimport ChevronUp from '../assets/images/ChevronUp.vue';\nimport ChecklistIcon from '../assets/images/ChecklistIcon.vue';\nexport default {\n  props: {\n    titlePassed: String,\n    statusPassed: String,\n    typeModal: String,\n    idPassed: Number\n  },\n  components: {\n    CloseIcon,\n    StatusView,\n    ChevronDown,\n    ChevronUp,\n    ChecklistIcon\n  },\n\n  data() {\n    return {\n      initialShow: false,\n      successDeleteModal: false,\n      isFocused: false,\n      firstLoad: false,\n      state: \"popup\",\n      inputItem: \"\",\n      priorityList: [{\n        text: \"Very High\",\n        value: \"very-high\"\n      }, {\n        text: \"High\",\n        value: \"high\"\n      }, {\n        text: \"Normal\",\n        value: \"normal\"\n      }, {\n        text: \"Low\",\n        value: \"low\"\n      }, {\n        text: \"Very Low\",\n        value: \"very-low\"\n      }],\n      selectedPriority: {\n        text: \"Very High\",\n        value: \"very-high\"\n      },\n      openDropdown: false\n    };\n  },\n\n  mounted() {\n    setTimeout(() => {\n      this.initialShow = true;\n      this.firstLoad = true;\n\n      if (this.typeModal === \"edit\") {\n        this.inputItem = this.titlePassed;\n        const filteredItem = this.priorityList.filter(dt => dt.value === this.statusPassed);\n        this.selectedPriority = filteredItem[0];\n        console.log(this.idPassed);\n      }\n    });\n  },\n\n  // do not forget this section\n  directives: {\n    ClickOutside\n  },\n  methods: {\n    closeModal() {\n      if (this.firstLoad) {\n        this.initialShow = false;\n        this.successDeleteModal = false;\n        this.$emit(\"close-modal\");\n      }\n    },\n\n    setDropDown() {\n      this.openDropdown = !this.openDropdown;\n    },\n\n    selectPriority(dt) {\n      this.selectedPriority = dt;\n      this.openDropdown = false;\n    },\n\n    createNewItem() {\n      if (this.inputItem === \"\") {\n        return;\n      }\n\n      const formData = {\n        \"activity_group_id\": this.$route.params.id,\n        \"title\": this.inputItem ? this.inputItem : \"todo~\",\n        \"priority\": this.selectedPriority.value\n      };\n      this.$http.post(\"https://todo.api.devcode.gethired.id/todo-items\", formData).then(() => {\n        this.$emit(\"get-list-item\");\n        this.closeModal();\n      }, err => {\n        console.log(err);\n      });\n    },\n\n    editItem() {\n      if (this.inputItem === \"\") {\n        return;\n      }\n\n      const formData = {\n        \"priority\": this.selectedPriority.value,\n        \"title\": this.inputItem ? this.inputItem : \"todo~\"\n      };\n      this.$http.patch(\"https://todo.api.devcode.gethired.id/todo-items/\" + this.idPassed, formData).then(() => {\n        this.$emit(\"get-list-item\");\n        this.closeModal();\n      }, err => {\n        console.log(err);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AAgDA;AACA;AACA;AACA;AACA;AACA;AAEA;EACAA;IACAC,mBADA;IAEAC,oBAFA;IAGAC,iBAHA;IAIAC;EAJA,CADA;EAQAC;IACAC,SADA;IAEAC,UAFA;IAGAC,WAHA;IAIAC,SAJA;IAKAC;EALA,CARA;;EAgBAC;IACA;MACAC,kBADA;MAEAC,yBAFA;MAGAC,gBAHA;MAIAC,gBAJA;MAKAC,cALA;MAMAC,aANA;MAOAC,eACA;QACAC,iBADA;QAEAC;MAFA,CADA,EAKA;QACAD,YADA;QAEAC;MAFA,CALA,EASA;QACAD,cADA;QAEAC;MAFA,CATA,EAaA;QACAD,WADA;QAEAC;MAFA,CAbA,EAiBA;QACAD,gBADA;QAEAC;MAFA,CAjBA,CAPA;MA6BAC;QACAF,iBADA;QAEAC;MAFA,CA7BA;MAiCAE;IAjCA;EAmCA,CApDA;;EAsDAC;IACAC;MACA;MACA;;MAEA;QACA;QACA;QACA;QACAC;MACA;IACA,CAVA;EAWA,CAlEA;;EAoEA;EACAC;IACAC;EADA,CArEA;EAyEAC;IACAC;MACA;QACA;QACA;QACA;MACA;IACA,CAPA;;IAQAC;MACA;IACA,CAVA;;IAWAC;MACA;MACA;IACA,CAdA;;IAeAC;MACA;QACA;MACA;;MACA;QACA,0CADA;QAEA,kDAFA;QAGA;MAHA;MAKA;QACA;QACA;MACA,CAHA,EAGAC;QACAR;MACA,CALA;IAMA,CA9BA;;IA+BAS;MACA;QACA;MACA;;MACA;QACA,uCADA;QAEA;MAFA;MAIA;QACA;QACA;MACA,CAHA,EAGAD;QACAR;MACA,CALA;IAMA;;EA7CA;AAzEA","names":["props","titlePassed","statusPassed","typeModal","idPassed","components","CloseIcon","StatusView","ChevronDown","ChevronUp","ChecklistIcon","data","initialShow","successDeleteModal","isFocused","firstLoad","state","inputItem","priorityList","text","value","selectedPriority","openDropdown","mounted","setTimeout","console","directives","ClickOutside","methods","closeModal","setDropDown","selectPriority","createNewItem","err","editItem"],"sourceRoot":"src/components","sources":["AddItem.vue"],"sourcesContent":["<template>\n  <div class=\"modal__add\">\n    <div class=\"modal__add-mask\" @click=\"closeModal()\"></div>\n    <div data-cy=\"modal-add\" class=\"modal__add-content\" :class=\"{'modal__add-content_show': initialShow}\" v-show=\"state === 'popup'\">\n      <div class=\"modal__add-content-header\">\n        <p data-cy=\"modal-add-title\" class=\"modal__add-content-header-text\">Tambah List Item</p>\n        <div data-cy=\"modal-add-close-button\" class=\"modal__add-content-header-icon\" @click=\"closeModal()\">\n          <CloseIcon></CloseIcon>\n        </div>\n      </div>\n      <div class=\"modal__add-content-body\">\n        <p data-cy=\"modal-add-name-title\" class=\"modal__add-content-body-title\">Nama list item</p>\n        <input data-cy=\"modal-add-name-input\" class=\"modal__add-content-body-input\" :class=\"{'modal__add-content-body-input_focused': isFocused}\" v-model=\"inputItem\" :placeholder=\"'Tambahkan nama list item'\" @focus=\"isFocused = true\" @blur=\"isFocused = false\">\n\n        <p data-cy=\"modal-add-priority-title\" class=\"modal__add-content-body-title\">Priority</p>\n        <div class=\"modal__add-content-body-priority-container\">\n          <div data-cy=\"modal-add-priority-dropdown\" class=\"modal__add-content-body-priority\" :class=\"{'modal__add-content-body-priority_opened': openDropdown}\" @click=\"setDropDown()\">\n            <StatusView :status=\"selectedPriority.value\" :bigger=\"true\" v-if=\"!openDropdown\"></StatusView>\n            <p class=\"modal__add-content-body-priority-text\" v-if=\"!openDropdown\">{{selectedPriority.text}}</p>\n            <p data-cy=modal-add-priority-item class=\"modal__add-content-body-priority-text modal__add-content-body-priority-text_opened\" v-else>Pilih priority</p>\n            <div class=\"modal__add-content-body-priority-chevron\">\n              <ChevronDown v-if=\"!openDropdown\"></ChevronDown>\n              <ChevronUp v-else></ChevronUp>\n            </div>\n          </div>\n          <div class=\"modal__add-content-body-priority-list\" v-if=\"openDropdown\">\n            <div :data-cy=\"'modal-add-priority-'+dt.value\" class=\"modal__add-content-body-priority-list-card\" v-for=\"(dt, index) in priorityList\" :key=\"index\" @click=\"selectPriority(dt)\">\n              <StatusView :status=\"dt.value\" :bigger=\"true\"></StatusView>\n              <p class=\"modal__add-content-body-priority-list-card-text\">{{dt.text}}</p>\n              <div class=\"modal__add-content-body-priority-list-card-checklist\">\n                <ChecklistIcon v-if=\"selectedPriority.value === dt.value\"></ChecklistIcon>\n              </div>\n            </div>\n          </div>\n        </div>\n\n      </div>\n      <div class=\"modal__add-content-button\">\n        <div data-cy=\"modal-add-save-button\" @click=\"typeModal === 'edit' ? editItem() : createNewItem()\" class=\"modal__add-content-button-shape\" :class=\"{'modal__add-content-button-shape_disabled': inputItem === ''}\" >\n          <p class=\"modal__add-content-button-shape-text\">Simpan</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n\nimport ClickOutside from 'vue-click-outside'\nimport CloseIcon from '../assets/images/CloseIcon.vue'\nimport StatusView from './StatusView.vue'\nimport ChevronDown from '../assets/images/ChevronDown.vue'\nimport ChevronUp from '../assets/images/ChevronUp.vue'\nimport ChecklistIcon from '../assets/images/ChecklistIcon.vue'\n\nexport default {\n  props: {\n    titlePassed: String,\n    statusPassed: String,\n    typeModal: String,\n    idPassed: Number\n  },\n\n  components: {\n    CloseIcon,\n    StatusView,\n    ChevronDown,\n    ChevronUp,\n    ChecklistIcon\n},\n  \n  data() {\n    return {\n      initialShow: false,\n      successDeleteModal: false,\n      isFocused: false,\n      firstLoad: false,\n      state: \"popup\",\n      inputItem: \"\",\n      priorityList: [\n        {\n          text: \"Very High\",\n          value: \"very-high\"\n        },\n        {\n          text: \"High\",\n          value: \"high\"\n        },\n        {\n          text: \"Normal\",\n          value: \"normal\"\n        },\n        {\n          text: \"Low\",\n          value: \"low\"\n        },\n        {\n          text: \"Very Low\",\n          value: \"very-low\"\n        }\n      ],\n      selectedPriority: {\n        text: \"Very High\",\n        value: \"very-high\"\n      },\n      openDropdown: false\n    }\n  },\n\n  mounted() {\n    setTimeout(() => {\n      this.initialShow = true\n      this.firstLoad = true\n\n      if(this.typeModal === \"edit\") {\n        this.inputItem = this.titlePassed\n        const filteredItem = this.priorityList.filter(dt => dt.value === this.statusPassed)\n        this.selectedPriority = filteredItem[0]\n        console.log(this.idPassed)\n      }\n    },)\n  },\n\n  // do not forget this section\n  directives: {\n    ClickOutside\n  },\n\n  methods: {\n    closeModal() {\n      if(this.firstLoad) {\n        this.initialShow = false\n        this.successDeleteModal = false\n        this.$emit(\"close-modal\")\n      }\n    },\n    setDropDown() {\n      this.openDropdown = !this.openDropdown\n    },\n    selectPriority(dt) {\n      this.selectedPriority = dt\n      this.openDropdown = false\n    },\n    createNewItem() {\n      if(this.inputItem === \"\") {\n        return\n      }\n      const formData = {\n        \"activity_group_id\": this.$route.params.id,\n        \"title\": this.inputItem ? this.inputItem : \"todo~\",\n        \"priority\": this.selectedPriority.value,\n      }\n      this.$http.post(\"https://todo.api.devcode.gethired.id/todo-items\", formData).then(() => {\n        this.$emit(\"get-list-item\")\n        this.closeModal()\n      }, err => {\n        console.log(err)\n      })\n    },\n    editItem() {\n      if(this.inputItem === \"\") {\n        return\n      }\n      const formData = {\n        \"priority\": this.selectedPriority.value,\n        \"title\": this.inputItem ? this.inputItem : \"todo~\",\n      }\n      this.$http.patch(\"https://todo.api.devcode.gethired.id/todo-items/\"+this.idPassed, formData).then(() => {\n        this.$emit(\"get-list-item\")\n        this.closeModal()\n      }, err => {\n        console.log(err)\n      })\n    }\n  }\n}\n\n</script>\n\n<style lang=\"scss\">\n  .modal {\n    &__add {\n      position: fixed;\n      top: 0;\n      left: 0;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 100%;\n      height: 100%;\n      &-mask {\n        position: fixed;\n        width: 100%;\n        height: 100%;\n        background-color: #000;\n        top: 0;\n        left: 0;\n        opacity: 0.5;\n      }\n      &-content {\n        position: relative;\n        transition: top 0.20s linear, opacity 0.20s linear;\n        max-width: 830px;\n        top: -30px;\n        opacity: 0;\n        padding: 24px 0px 19px 0px;\n        background-color: #FFFFFF;\n        z-index: 2;\n        border-radius: 12px;\n        display: flex;\n        flex-direction: column;\n        width: 100%;\n        &_show {\n          top: 0;\n          opacity: 1;\n        }\n        &-header {\n          display: flex;\n          align-items: center;\n          padding: 0px 47px 19px 30px;\n          border-bottom: 1px solid #E5E5E5;\n          &-text {\n            flex: 0.5;\n            font-weight: 600;\n            font-size: 18px;\n            line-height: 27px;\n            color: #111111;\n          }\n          &-icon {\n            cursor: pointer;\n            flex: 0.5;\n            text-align: end;\n          }\n        }\n        &-body {\n          padding: 38px 41px 0px 30px;\n          &-input {\n            width: 100%;\n            height: 52px;\n            padding: 0 18px;\n            background: #FFFFFF;\n            border: 1px solid #E5E5E5;\n            border-radius: 6px;\n            margin-bottom: 26px;\n            margin-top: 9px;\n            outline: none;\n            &_focused {\n              border-color: #16ABF8;\n            }\n            &::placeholder {\n              color: #A4A4A4;\n            }\n          }\n          &-priority {\n            cursor: pointer;\n            position: relative;\n            display: flex;\n            align-items: center;\n            width: fit-content;\n            min-width: 205px;\n            padding: 14px 23px 14px 17px;\n            background: #FFFFFF;\n            border: 1px solid #E5E5E5;\n            border-radius: 6px;\n            margin-top: 9px;\n            &_opened {\n              background-color: #E5E5E5;\n              border-bottom: none;\n              border-bottom-right-radius: 0px;\n              border-bottom-left-radius: 0px;\n            }\n            &-container {\n              position: relative;\n            }\n            &-text {\n              font-weight: 400;\n              font-size: 16px;\n              line-height: 24px;\n              color: #111111;\n              margin-left: 19px;\n              margin-right: 37px;\n              &_opened {\n                margin-left: 0px;\n                margin-right: 56px;\n              }\n            }\n            &-list {\n              cursor: pointer;\n              position: absolute;\n              top: 52px;\n              left: 0px;\n              &-card {\n                display: flex;\n                align-items: center;\n                width: 205px;\n                height: 52px;\n                padding: 14px 22px 14px 17px;\n                background: #FFFFFF;\n                border: 1px solid #E5E5E5;\n                border-bottom: none;\n                &-text {\n                  font-weight: 400;\n                  font-size: 16px;\n                  line-height: 24px;\n                  color: #111111;\n                  margin-left: 19px;\n                  margin-right: 37px;\n                }\n                &:last-child {\n                  border-radius: 0px 0px 6px 6px;\n                  border-bottom: 1px solid #E5E5E5;\n                }\n                &-checklist {\n                  flex: 1;\n                  text-align: end;\n                }\n              }\n            }\n            &-chevron {\n              flex: 1;\n              text-align: end;\n            }\n          }\n          &-title {\n            font-weight: 600;\n            font-size: 12px;\n            line-height: 18px;\n            color: #111111;\n          }\n        }\n        &-button {\n            border-top: 1px solid #E5E5E5;;\n            margin-top: 23px;\n            padding-top: 15px;\n            padding-right: 40px;\n            display: flex;\n            justify-content: flex-end;\n            &-shape {\n              display: flex;\n              flex-direction: row;\n              align-items: center;\n              cursor: pointer;\n              padding: 13.5px 29px 13.5px 27px;\n              background-color: #16ABF8;\n              width: fit-content;\n              border-radius: 45px;\n              &-text {\n                font-weight: 600;\n                font-size: 18px;\n                line-height: 27px;\n                color: #FFFFFF;\n                margin-left: 6px;\n              }\n              &_disabled {\n                cursor: default;\n                opacity: 0.2;\n                background-color: #16ABF8;\n              }\n            }\n          }\n      }\n    }\n  }\n</style>"]},"metadata":{},"sourceType":"module"}